<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, intial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="static/css/form.css">
    <link rel="stylesheet" href="static/css/style.css">
    <style>
      body {
        background-color: #d2f7ef;
      }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    


  </head>
  <body>
    <header class="header">
      <a href="#" class="logo"> <i class="fas fa-heartbeat"></i>Teeth First</a>
      <nav class="navbar">
        <a href="index.html">Home</a>
        <a href="#Feedbacks">Feedbacks</a>
        <a href="#Social works">Social works</a>
        <a href="#Partners">Partners</a>
      </nav>
      <div id="menu-btn" class="fas fa-bars"></div>
    </header>
    <div class="form">
      <h2>Patient Signup</h2>
      <p>It's free and always will be.</p>
      <form id="signup-form" form action="#" method="post">
        <div class="error-text">
          Error
        </div>
        <div class="grid-details">
          <div class="input">
            <label>First Name</label>
            <input type="text" id="fname" placeholder="First Name" required pattern="[a-zA-Z'-'\s]*">
          </div>
          <div class="input">
            <label>Last Name</label>
            <input type="text" id="lname" placeholder="Last Name" required pattern="[a-zA-Z'-'\s]*">
          </div>
          <div class="input">
            <label>Email</label>
            <input type="email" id="email" placeholder="Enter Your Email" required>
          </div>
          <div class="input">
            <label>Phone</label>
            <input type="phone" id="phone" placeholder="Phone Number" required pattern="[0-9]{10}" oninvalid="this.setCustomValidity('Enter a 10-digit number')" oninput="this.setCustomValidity('')">
          </div>
          <div class="input">
            <label>Password</label>
            <input type="password" id="pass" placeholder="Password" required>
          </div>
          <div class="input">
            <label>Confirm Password</label>
            <input type="password" id="cpass" placeholder="Confirm Password" required>
          </div>
        </div>
        <div class="profile-img">
          <div class="file-upload">
            <label for="image-preview"></label>
            <input type="file" id="image-preview" name="image" class="file-input" required oninvalid="this.setCustomValidity('Select a profile image')" oninput="this.setCustomValidity('')">
            <i class="fas fa-user-edit"></i>
          </div>
        </div>
        <div class="submit">
            <input type="submit" value="Signup Now" class="button">
          </div>
        </form>
        <div class="link">
          Already Signed up? <a href="{{ url_for('patientlogin') }}">Login Now</a>
        </div>
      </div>
      <script>
        var firebaseConfig = {
          apiKey: "AIzaSyCq3Vvr68v069xm4yrsv8Ktb53RczmP-3k",
          authDomain: "medx-dd284.firebaseapp.com",
          databaseURL: "https://medx-dd284-default-rtdb.firebaseio.com",
          projectId: "medx-dd284",
          storageBucket: "medx-dd284.appspot.com",
          messagingSenderId: "654630654242",
          appId: "1:654630654242:web:059f9a35da2d41edc7557b",
          measurementId: "G-LTTWTZ1HSV"
        };
        firebase.initializeApp(firebaseConfig);
      
        // Function to handle the signup form submission
        function handleSignup(event) {
          event.preventDefault();
          
          var form = document.getElementById("signup-form");
          var email = form.email.value;
          var password = form.pass.value;
      
          firebase.auth().createUserWithEmailAndPassword(email, password)
            .then(function(userCredential) {
              // Signup successful, perform any desired actions
              alert("Signup successful!");
              // Replace "book.html" with the desired destination page after signup
              window.location.href = "{{ url_for('patientlogin') }}";
            })
            .catch(function(error) {
              // Handle signup errors
              var errorMessage = error.message;
              alert(errorMessage);
            });
        }
      
        // Add an event listener to the signup form
        document.getElementById("signup-form").addEventListener("submit", handleSignup);
      </script>
  </body>
</html>